{
  "id": "http://arxiv.org/abs/2412.05777v1",
  "title": "Strategizing Equitable Transit Evacuations: A Data-Driven Reinforcement Learning Approach",
  "authors": [
    "Fang Tang",
    "Han Wang",
    "Maria Laura Delle Monache"
  ],
  "abstract": "As natural disasters become increasingly frequent, the need for efficient and\nequitable evacuation planning has become more critical. This paper proposes a\ndata-driven, reinforcement learning-based framework to optimize bus-based\nevacuations with an emphasis on improving both efficiency and equity. We model\nthe evacuation problem as a Markov Decision Process solved by reinforcement\nlearning, using real-time transit data from General Transit Feed Specification\nand transportation networks extracted from OpenStreetMap. The reinforcement\nlearning agent dynamically reroutes buses from their scheduled location to\nminimize total passengers' evacuation time while prioritizing equity-priority\ncommunities. Simulations on the San Francisco Bay Area transportation network\nindicate that the proposed framework achieves significant improvements in both\nevacuation efficiency and equitable service distribution compared to\ntraditional rule-based and random strategies. These results highlight the\npotential of reinforcement learning to enhance system performance and urban\nresilience during emergency evacuations, offering a scalable solution for\nreal-world applications in intelligent transportation systems.",
  "text": "Highlights\nStrategizing Equitable Transit Evacuations: A Data-Driven Reinforcement Learning Ap-\nproach\nFang Tang, Han Wang, Maria Laura Delle Monache\nâ€¢ Proposes a Reinforcement Learning-based bus evacuation planning.\nâ€¢ Integrates multiple sources of data from OpenStreetMap and General Transit Feed Specification.\nâ€¢ Incorporates equity in evacuation strategy.\nâ€¢ Demonstrates scalability and applicability on real-world urban large-scale networks.\narXiv:2412.05777v1  [cs.LG]  8 Dec 2024\nStrategizing Equitable Transit Evacuations: A Data-Driven\nReinforcement Learning Approach\nFang Tanga,b, Han Wangb and Maria Laura Delle Monacheb,âˆ—\naSchool of Sustainable Engineering and the Built Environment, Arizona State University, Tempe, AZ, USA\nbDepartment of Civil and Environmental Engineering, University of California, Berkeley, Berkeley, CA, USA\nA R T I C L E I N F O\nKeywords:\nDisaster management\nEvacuation planning\nEquity\nReinforcement Learning\nA B S T R A C T\nAs natural disasters become increasingly frequent, the need for efficient and equitable evacuation\nplanning has become more critical. This paper proposes a data-driven, reinforcement learning\n(RL)-based framework to optimize bus-based evacuations with an emphasis on improving both\nefficiency and equity. We model the evacuation problem as a Markov Decision Process (MDP)\nsolved by RL, using real-time transit data from General Transit Feed Specification (GTFS)\nand transportation networks extracted from OpenStreetMap (OSM). The RL agent dynamically\nreroutes buses from their scheduled location to minimize total passengersâ€™ evacuation time\nwhile prioritizing equity priority communities. Simulations on the San Francisco Bay Area\ntransportation network indicate that the proposed framework achieves significant improvements\nin both evacuation efficiency and equitable service distribution compared to traditional rule-\nbased and random strategies. These results highlight the potential of RL to enhance system\nperformance and urban resilience during emergency evacuations, offering a scalable solution\nfor real-world applications in intelligent transportation systems.\n1. Introduction\nThe increasing frequency of natural disasters, such as wildfires, flooding, heat waves, hurricanes, and earthquakes,\nposes significant risks to residentsâ€™ finances, society, and safety. Efficient and real-time evacuation planning strategies\nare essential not only to save costs but also to protect human lives. Buses, with their flexibility and large capacity,\noffer a cost-efficient solution for evacuations. Khalili et al. (2024) conducted a comprehensive review identifying\nkey challenges and research gaps in transit-based evacuation planning. This review highlights the critical role of\nintegrating public transportation when developing evacuation strategies, in particular when enhancing efficiency and\nsafety. Evacuation plans based on transit are crucial for individuals without personal vehicles and for vehicle owners\nduring disasters when cars may be inaccessible. The review emphasizes the need to consider spatial and temporal\ndynamics, social and demographic factors, and multi-stakeholder coordination. Despite advancements, challenges still\npersist as for example data accuracy, model validation, and stakeholder coordination, necessitating further research\nand interdisciplinary collaboration to improve transit-based evacuation strategies.\nPrevious studies on bus evacuation problems, such as those by Hamacher and Tjandra (2001), Altay and Green III\n(2006), Yusoff et al. (2008), and Goerigk et al. (2013), primarily focus on optimizing evacuation time. Chen and\nZhan (2008) considered buses as agents in optimizing bus-based evacuation planning. Sayyady and Eksioglu (2010)\naddressed the bus evacuation problem considering traffic flow dynamics to model real-world complexity. Goerigk and\nGrÃ¼n (2014) studied uncertain bus evacuation problems, modeling the uncertainty in the number of evacuees. Goerigk\net al. (2013) proposed a branch-and-bound algorithm to optimize total evacuation time for the problem with a single\nbus depot.\nHuang et al. (2016) highlighted the importance of decision variables in emergency evacuation planning, focusing on\nthe allocation of evacuees and resources. In transit-based evacuation planning, decision variables often include vehicle\nrouting, scheduling, and allocation, as well as the location and allocation of shelters and pick-up points. Some studies\nalso incorporate relief supply and distribution planning. Objective functions typically aim to minimize evacuation time,\ntransportation costs (Bish, 2011), and evacuation risks while maximizing the number of evacuees transported safely.\nOther objectives include minimizing the network clearance time (Goerigk et al., 2013).\nâˆ—Corresponding author\nfangt@asu.edu (F. Tang); hanw@berkeley.edu (H. Wang); mldellemonache@berkeley.edu (M.L. Delle Monache)\nORCID(s): 0009-0002-2468-9554 (F. Tang); 0000-0003-1561-7532 (H. Wang); 0000-0003-1355-8153 (M.L. Delle Monache)\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 1 of 17\nOptimization approaches in transit-based evacuation planning include dynamic network methods, time-dependent\nflow models, heuristic algorithms, and stochastic programming frameworks. For example, Bish (2011) developed\nmixed integer programming models and a local search heuristic for efficient evacuation planning, aiming to optimize\nresource allocation, route planning, and scheduling under various constraints and uncertainties. Khalili et al. (2024)\nunderscored the effectiveness of integrating optimization with traffic simulation and metaheuristic methods to enhance\nevacuation efficiency. Despite advancements, challenges remain in model validation, data accuracy, and stakeholder\ncoordination, necessitating continued research and development in this field. Lu et al. (2005) proposed capacity-\nconstrained routing algorithms, and Cova and Johnson (2003) introduced lane-based evacuation routing. Recent studies\nhave shown that machine learning (ML) can optimize complex decision-making processes in dynamic environments.\nWang and Delle Monache (2022) introduced equity-focused recovery strategies using reinforcement learning (RL)\nto enhance resilience to urban networks, demonstrating the potential of RL to balance efficiency and equity in\ntransportation networks.\nVarious studies were conducted on bus evacuation planning, with focus on optimization models (Liu et al., 2006),\nsimulation tools for emergency evacuation (Chen and Chou, 2009) and multiobjective optimization (Abdelgawad et al.,\n2010) or on assessing multimodal evacuation protocols for special needs populations (Kaiser et al., 2012). Vulnerable\ncommunities are often overlooked in public transportation evacuations, suggesting that governmental agencies should\naddress social equity as noted in Litman (2006), Renne et al. (2011), and Wu et al. (2012). Equity-based evacuation\nplanning ensures that equity priority communities have equal access to evacuation resources and services. Effective\ndisaster management should ensure equal treatment for all communities. In addition, most research relies on static data\nand predefined scenarios, which may not adapt well to real-time disaster conditions.\nTo evacuate populations from multiple communities to designated shelters while ensuring equitable service, this\npaper proposes an equity-emphasized bus evacuation problem. We utilize a data-driven approach based on the Markov\ndecision framework and RL to reroute or reschedule buses. Real-time bus locations are obtained from the General\nTransit Feed Specification (GTFS) (2024) during a disaster. Buses are rerouted through the transportation network\nextracted from OpenStreetMap (OSM) (2024) to evacuate populations. An integrated objective combining an equity\nevaluation index and passenger travel time serves as a reward function for the RL agent to determine the evacuation\npriority of affected communities and guide bus routing.\nThe paper is organized as follows. Section 2 describes the network modeling, the bus evacuation problem with\nequity considerations, the Markov Chain framework, and the adopted equity index. Section 3 uses a six-node network\nto illustrate the problem and feasible solutions. Section 4 introduces the datasets used and the reinforcement learning\nenvironment built for San Francisco scenarios. Finally, Section 5 presents the results of the different experimental\nscenarios.\n2. Methodology\nIn response to the limitations of existing evacuation frameworks, particularly in addressing service equity and\noperational timeliness, we propose a data-driven, RL-based Markov decision framework. This approach integrates\nreal-time transit data and road network to dynamically adjust bus routing and scheduling during emergencies, ensuring\nboth operational efficiency and equitable service distribution.\n2.1. Network modeling\nThe transportation network is modeled as a directed graph ğº= (ğ‘‰, ğ¸, ğµ, ğ¼), where ğ‘‰represents the set of nodes,\nincluding origins, shelters, and normal transit nodes, and ğ¸represents the set of directed links between these nodes.\nEach node ğ‘£âˆˆğ‘‰is characterized by its coordinates, type (origin, shelter, or transit), demand (number of evacuees to\nbe transferred) ğœ†(ğ‘£), and remaining capacity of shelter ğœ‡(ğ‘£). At origins, ğœ‡(ğ‘£) is always 0, and at shelters, ğœ†(ğ‘£) is always\n0. Each link ğ‘’âˆˆğ¸is characterized by its travel time ğ‘¡(ğ‘’), direction, and connectivity between nodes. Each bus ğ‘for\nğ‘âˆˆğµis featured by its capacity ğ‘(ğ‘), number of evacuees on board ğ‘(ğ‘), and the destination of current route ğ‘‘(ğ‘).\nThe nodes and links in the transportation network are mapped to the census tracts ğ‘–âˆˆğ¼(refer to Figure 6), where link\nğ‘’ğ‘–âˆˆğ¸(ğ‘–) and node ğ‘£ğ‘–âˆˆğ‘‰(ğ‘–).\n2.2. Markov Decision Process for evacuation problem\nAs shown in Figure 1, the evacuation problem is formulated as a Markov Decision Process defined by the tuple\n(îˆ¿, îˆ­, îˆ¾, ğ›¾), where:\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 2 of 17\nâ€¢ State Space îˆ¿: The state ğ‘†ğ‘¡at time ğ‘¡includes the locations of all buses represented by {ğ‘ ğ‘, ğ‘ ğ‘£}. ğ‘ ğ‘=\n{ğ‘(ğ‘), ğ‘(ğ‘), ğ‘‘(ğ‘)|ğ‘âˆˆğµ} defines the status of all buses, and ğ‘ ğ‘£= {ğœ†(ğ‘£), ğœ‡(ğ‘£)|ğ‘£âˆˆğ‘‰} indicates the number\nof evacuees at each origin, and the remaining capacity of each shelter at time ğ‘¡.\nâ€¢ Action Space îˆ­: The action ğ‘ğ‘¡(ğ‘) âˆˆğ‘‰taken by the agent includes decisions to reroute buses, specifying which\nbus should move to which node as the destination for the next time step.\nâ€¢ Reward Function îˆ¾: The reward function ğ‘…(ğ‘†ğ‘¡, ğ‘ğ‘¡) combines the travel time and an equity evaluation index,\ndesigned to minimize the total evacuee waiting and travel time while penalizing inequities. The following section\nprovides detailed information of the reward function.\nâ€¢ Discount Factor ğ›¾: The discount factor ğ›¾âˆˆ[0, 1) determines the present value of future rewards.\nFigure 1: The framework of the proposed methodology using reinforcement learning. The RL agent (controller) interacts\nwith the environment, which represents the transportation network. At each time step ğ‘¡, the controller takes an action ğ‘ğ‘¡\nbased on the current state ğ‘†ğ‘¡. The environment then transitions to a new state ğ‘†ğ‘¡+1, providing feedback to the controller.\n2.3. Equity emphasized rewards\nThe overall reward ğ‘…minimizes the total evacuee waiting and travel time with an inequity penalty:\nğ‘…= ğ‘‡+ ğ½\n(1)\nğ‘‡= (\nâˆ‘\nğ‘âˆˆğµ\nğ‘(ğ‘) +\nâˆ‘\nğ‘–âˆˆğ¼\nâˆ‘\nğ‘£ğ‘–âˆˆğ‘‰(ğ‘–)\nğœ†(ğ‘£ğ‘–))Î”ğ‘¡\n(2)\nwith ğ‘‡, the total travel and waiting time for evacuees with a fixed time interval Î”ğ‘¡. This function facilitates an analysis\nat the node level, allowing researchers to incorporate specific demand data per node if available. In the absence of such\ndata, it is permissible to allocate the average demand from zone ğ‘–to each corresponding node ğ‘£ğ‘–. ğ½is the inequity\npenalty. Inspired by the penalty measure in Wang and Delle Monache (2022), the inequity penalty is calculated as\nfollows:\nğ½= |ğ‘Ÿğ‘ğ‘(ğœ†ğ‘–, ğ‘‹ğ‘’\nğ‘–)| â‹…ğ‘‡, ğ‘–âˆˆğ¼\n(3)\nwhere ğ‘Ÿğ‘ğ‘(ğœ†ğ‘–, ğ‘‹ğ‘’\nğ‘–) is the point-biserial coefficient between the evacuee demand ğœ†ğ‘–= âˆ‘\nğ‘£ğ‘–âˆˆğ‘‰(ğ‘–) ğœ†(ğ‘£ğ‘–) of zone ğ‘–, and\nthe binary variable ğ‘‹ğ‘’\nğ‘–that indicates if the zone ğ‘–is a equity priority community (EPC) (Metropolitan Transportation\nCommission, 2021) or not. EPC refers to tracts with a high proportion of equity-priority communities. Various criteria\ncan be applied to identify an EPC, which is then represented by the binary variable ğ‘‹ğ‘’\nğ‘–âˆˆ{0, 1}. The point-biserial\ncorrelation coefficient is then calculated as:\nğ‘Ÿğ‘ğ‘(ğœ†ğ‘–, ğ‘‹ğ‘’\nğ‘–) = ğœ†ğ‘’âˆ’ğœ†ğ‘›ğ‘’\nğ‘ ğ‘›\nâˆšğ‘›ğ‘’ğ‘›ğ‘›ğ‘’\nğ‘›2\nğ‘–âˆˆğ‘†.\n(4)\nIn equation (4), zones are divided into two groups: EPC zones, denoted by subscript ğ‘’, and non-EPC zones, denoted\nby subscript ğ‘›ğ‘’. Here, ğœ†ğ‘’and ğœ†ğ‘›ğ‘’represent the mean evacuee demand in the EPC and non-EPC groups, respectively,\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 3 of 17\nwhile ğ‘›ğ‘’and ğ‘›ğ‘›ğ‘’denote the number of zones in each group, and ğ‘›is the total number of zones. The standard deviation\nof evacuee demand across all zones is given by ğ‘ ğ‘›. This point-biserial correlation coefficient quantifies the linear\nrelationship between evacuee demand and EPC designation, indicating whether there are significant differences in\nevacuation demand between EPC zones and other areas.\nThe reward function incentivizes the RL agent to prioritize actions that balance efficiency and equity, ensuring that\nthe evacuation process is fair and effective.\n2.4. Reinforcement Learning controller\nTo address the bus evacuation problem, the Proximal Policy Optimization (PPO) algorithm is employed to train\nthe RL agent due to its stability and efficiency within policy gradient methods. This section delineates the MDP\nformulation, the PPO algorithm, and the training process in detail.\nThe PPO algorithm is a policy gradient method that directly optimizes the policy ğœ‹ğœƒ(ğ‘|ğ‘ ). The primary objective is\nto maximize the expected cumulative reward. The PPO algorithm is characterized by its clipped surrogate objective,\nwhich constrains updates to the policy to prevent substantial deviations from the previous policy, thereby maintaining\nstability.\n2.4.1. Clipped surrogate objective\nThe objective function for PPO is formulated as:\nğ¿CLIP(ğœƒ) = ğ”¼ğ‘¡\n[min (ğ‘Ÿğ‘¡(ğœƒ) Ì‚ğ´ğ‘¡, clip(ğ‘Ÿğ‘¡(ğœƒ), 1 âˆ’ğœ–, 1 + ğœ–) Ì‚ğ´ğ‘¡\n)]\n(5)\nwhere:\nâ€¢ ğ‘Ÿğ‘¡(ğœƒ) =\nğœ‹ğœƒ(ğ‘ğ‘¡|ğ‘ ğ‘¡)\nğœ‹ğœƒold(ğ‘ğ‘¡|ğ‘ ğ‘¡) is the probability ratio between the new policy ğœ‹ğœƒand the old policy ğœ‹ğœƒold.\nâ€¢\nÌ‚ğ´ğ‘¡is the advantage estimate at time ğ‘¡, computed to reduce variance in the policy gradient.\nâ€¢ ğœ–is a hyperparameter that determines the clipping range.\nThe clipping term clip(ğ‘Ÿğ‘¡(ğœƒ), 1 âˆ’ğœ–, 1 + ğœ–) ensures that the ratio ğ‘Ÿğ‘¡(ğœƒ) does not deviate significantly from 1, thereby\npreventing large policy updates that could destabilize training.\n2.4.2. Advantage estimation\nThe advantage estimate Ì‚ğ´ğ‘¡is computed using the Generalized Advantage Estimation (GAE), which provides a\nmethod to calculate the advantage function Ì‚ğ´ğ‘¡by weighting the temporal difference residuals:\nÌ‚ğ´ğ‘¡=\nâˆ\nâˆ‘\nğ‘™=0\n(ğ›¾ğœ†)ğ‘™ğ›¿ğ‘¡+ğ‘™\n(6)\nwhere:\nâ€¢ ğ›¿ğ‘¡= ğ‘…ğ‘¡+ ğ›¾ğ‘‰(ğ‘ ğ‘¡+1) âˆ’ğ‘‰(ğ‘ ğ‘¡) is the temporal difference error, with ğ‘…ğ‘¡representing the reward at time ğ‘¡, ğ›¾the\ndiscount factor, and ğ‘‰(ğ‘ ğ‘¡) the value function.\nâ€¢ ğœ†is the GAE parameter that controls the bias-variance trade-off.\nThe GAE method improves the bias-variance trade-off by adjusting ğœ†, thereby providing a more stable and reliable\nestimate of the advantage function.\n2.5. Training process\nThe training process involves iterative interactions with the environment, collection of trajectories, and updates to\nthe policy. The detailed steps are as follows:\n1. Initialize the policy ğœ‹ğœƒand value function ğ‘‰ğœ™with random parameters ğœƒand ğœ™.\n2. Collect trajectories by executing the current policy ğœ‹ğœƒwithin the environment. Each trajectory ğœconsists of\nstates ğ‘ ğ‘¡, actions ğ‘ğ‘¡, rewards ğ‘…ğ‘¡, and next states ğ‘ ğ‘¡+1.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 4 of 17\n3. Compute rewards ğ‘…ğ‘¡and advantage estimates Ì‚ğ´ğ‘¡for each time step in the trajectory.\n4. Update the policy by maximizing the clipped surrogate objective ğ¿CLIP(ğœƒ) using gradient ascent. Simultane-\nously, update the value function ğ‘‰ğœ™by minimizing the value loss ğ¿VF(ğœ™):\nğ¿VF(ğœ™) = ğ”¼ğ‘¡\n[(ğ‘‰ğœ™(ğ‘ ğ‘¡) âˆ’ğ‘…ğ‘¡)2]\n(7)\n5. Repeat the process until convergence or until a predefined number of iterations is reached.\nThe overall training objective combines the policy loss ğ¿CLIP(ğœƒ), the value function loss ğ¿VF(ğœ™), and an entropy\nbonus ğ‘†[ğœ‹ğœƒ] to encourage exploration and avoid premature convergence to suboptimal policies:\nğ¿(ğœƒ, ğœ™) = ğ¿CLIP(ğœƒ) âˆ’ğ‘1ğ¿VF(ğœ™) + ğ‘2ğ‘†[ğœ‹ğœƒ]\n(8)\nwhere ğ‘1 and ğ‘2 are coefficients that balance the contributions of the value loss and the entropy bonus.\nIn the subsequent sections, we will illustrate the equity-emphasized bus evacuation problem using a six-node\nnetwork and validate the proposed approach through simulations on the San Francisco Bay Area network. The\nsimulations will leverage real-time bus location data from the GTFS and the transportation network extracted from\nOSM.\n3. Illustrative Examples\nTo provide a detail illustration of how the proposed RL framework operates in the context of bus evacuation\nplanning, this section presents an example using a simplified six-node network scenario. This controlled setting is\nspecifically designed to clarify the problem space and illustrate feasible solutions, without the application of the\nRL controller. The purpose is to provide a foundational understanding of the evacuation dynamics under simplified\nconditions, without the complexity of larger real-world networks, which helps in visualizing how the model handles\nvarious aspects of the problem, such as route selection and capacity management. This example serves to bridge the\nconceptual gap to more complex real-world applications detailed in subsequent sections. Section 3.1 introduces how\nwe represent networks. Section 3.2 discusses two feasible solutions without applying the RL framework, we focus\ninstead on the potential impacts of equity. Section 3.3 introduces the application of the RL framework in this six-node\nexample.\nAs shown in Figure 2, the six-node network with two buses we consider is represented as follows:\nğºğ‘œ= (ğ‘‰ğ‘œ, ğ¸ğ‘œ, ğµğ‘œ, ğ¼ğ‘œ)\n(9)\nğ‘‰ğ‘œ= {ğ‘œ1, ğ‘œ2, ğ‘‘1, ğ‘‘2, ğ‘›1, ğ‘›2}\n(10)\nğ¸ğ‘œ= {1, 2, â€¦ , 16}\n(11)\nğµğ‘œ= {ğ‘1, ğ‘2}\n(12)\nğ¼ğ‘œ= {ğ‘œ1, ğ‘œ2}\n(13)\nThis network consists of two endangered communities, denoted as origin nodes ğ‘œ1 and ğ‘œ2, and two shelters, denoted\nas destination nodes ğ‘‘1 and ğ‘‘2. Nodes ğ‘›1 and ğ‘›2 are driving network nodes without capacity or demand. The numbers\nin set ğ¸ğ‘œrepresent links ID. Two buses, ğ‘1 and ğ‘2, are initially located at the link from node ğ‘›1 to origin ğ‘œ1 and the\nlink from origin ğ‘œ2 to node ğ‘›2 respectively.\nIn this network, there are 10 and 30 evacuees of origin ğ‘œ1 and ğ‘œ2 respectively. The capacity for shelters ğ‘‘1 and ğ‘‘2\nare 25 and 15 respectively. The objective is to evacuate all residents of the origin communities to shelters with capacity\nconstraints while ensuring that the evacuation process is equitable for all communities involved.\n3.1. Network specification\nThe nodes in the network are identified by their unique node_id. Table 1 provides detailed information for each\nnode, including its x and y coordinates, type, demand (number of people waiting for evacuation), capacity (number\nof people the shelter can accommodate), and inequity index. The geometry of each node is represented by its x and y\ncoordinates. The node_type specifies whether the node is an origin, shelter, or other types. The nodes designated as\norigins have a positive demand, while those shelter nodes have a positive capacity. For all other nodes, both demand\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 5 of 17\nFigure 2: Illustrative example of a six-node network. This figure presents a network comprising six nodes interconnected\nby directed links, illustrated by the lines with arrows indicating direction. Nodes are denoted as circles, while buses are\ndepicted as square blocks positioned on the links. The numbers on the links represent travel times. Red numerals indicate\nthe demand of evacuees at origin nodes, and blue numerals represent the capacity of shelters.\nand capacity are set to 0, indicating that they neither serve as origins nor shelters for evacuees. The inequity_index is\nused to identify vulnerable communities, where a value of 1 signifies an EPC and 0 otherwise.\nAs shown in Table 2, each link in the network is a one-way segment characterized by its link_id, from_node_id,\nto_node_id, and travel_time. Each link_id uniquely identifies a specific link. The from_node_id indicates the starting\nnode of the link, while the to_node_id represents the end node. The travel time required for buses to traverse each link\nis recorded in the field travel_time. For example, link 1 starts from node ğ‘›1 to node ğ‘œ1, requiring 5 minutes of travel\ntime for buses traveling through this link.\nEach bus in the network is identified by its bus_id and key attributes, including its initial location, remaining\ncapacity, and its next destination. Table 3 provides the details of each bus. The initial location is specified by the\nlink_id, from_node_id, and to_node_id, along with the time_to_travel which is the travel time from the initial location to\nto_node_id. The capacity indicates the remaining seats available on each bus. The destination define the next destination\nfor bus location at time ğ‘¡.\n3.2. Feasible solutions\nTo illustrate potential strategies for the bus evacuation problem with an inequitable origin, ğ‘œ1, in the six-node\nnetwork example, we consider two feasible evacuation strategies, as outlined in Table 4. The total passenger time is\ncomputed as the sum of both the trip time and waiting time for all passengers. The trip time refers to the duration\nof transportation from the origin to the destination, while the waiting time is measured from the moment the hazard\noccurs until the passenger is picked up.\n(a) Feasible solution 1\n(b) Feasible solution 2\nFigure 3: Space-time trajectory for feasible solutions. In this graph, the trajectories of Bus 1 are illustrated with orange\nlines and those of Bus 2 with blue lines. Different trips are represented by different shades of the same color. Each vector in\nthe diagram is annotated with the status of all buses, represented as ğ‘ ğ‘= {ğ‘(ğ‘), ğ‘(ğ‘), ğ‘‘(ğ‘)}, where each parameter denotes\nthe capacity of the bus, the number of evacuees on board and the next destination, respectively.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 6 of 17\nTable 1\nNode information\nname\nnode_id\nx_coord\ny_coord\nnode_type\ndemand\ncapacity\ninequity_index\nnode 1\nğ‘›1\n0\n1\nnode\n0\n0\n0\nnode 2\nğ‘›2\n0\n0\nnode\n0\n0\n0\norigin 1\nğ‘œ1\n1\n1\norigin\n10\n0\n1\norigin 2\nğ‘œ2\n1\n0\norigin\n30\n0\n0\nshelter 1\nğ‘‘1\n2\n1\nshelter\n0\n25\n0\nshelter 2\nğ‘‘2\n2\n0\nshelter\n0\n15\n0\nTable 2\nLink information\nlink_id\nfrom_node_id\nto_node_id travel_time\n1\nğ‘›1\nğ‘œ1\n5\n2\nğ‘›1\nğ‘œ2\n10\n3\nğ‘›2\nğ‘œ1\n5\n4\nğ‘›3\nğ‘œ2\n8\n5\nğ‘œ1\nğ‘›1\n5\n6\nğ‘œ1\nğ‘›2\n5\n7\nğ‘œ1\nğ‘‘1\n15\n8\nğ‘œ1\nğ‘‘2\n5\n9\nğ‘œ2\nğ‘›1\n10\n10\nğ‘œ2\nğ‘›2\n8\n11\nğ‘œ2\nğ‘‘1\n10\n12\nğ‘œ2\nğ‘‘2\n20\n13\nğ‘‘1\nğ‘œ1\n15\n14\nğ‘‘1\nğ‘œ2\n10\n15\nğ‘‘2\nğ‘œ1\n5\n16\nğ‘‘2\nğ‘œ2\n20\nTable 3\nBus information\nbus_id\nlink_id\nfrom_node_id\nto_node_id\ntime_to_travel capacity\ndestination\nğ‘1\n1\nğ‘›1\nğ‘œ1\n4\n20\nğ‘œ1\nğ‘2\n10\nğ‘œ2\nğ‘›2\n5\n20\nğ‘›2\nAs shown in feasible solution 1 of Table 4 and Figure 3 (a), Bus 1 begins its trip by departing from its initial location\non link (ğ‘›1, ğ‘œ1). At this point, the status of Bus 1 is represented as ğ‘ ğ‘1 = {20, 0, ğ‘œ1}, where ğ‘(ğ‘1) = 20 indicates that\nthe bus has a capacity of 20 passengers, ğ‘(ğ‘1) = 0 means there are no passengers onboard, and ğ‘‘(ğ‘1) = ğ‘œ1 denotes\nthat the next destination is the origin node ğ‘œ1. Bus 1 takes 4 minutes to reach ğ‘œ1, where it picks up 10 evacuees. After\nboarding the passengers, the status updates to ğ‘ ğ‘1 = {20, 10, ğ‘‘1}, meaning the bus now has 10 evacuees onboard, and\nits destination changes to shelter ğ‘‘1. The bus then takes 15 minutes to transport these 10 evacuees from ğ‘œ1 to ğ‘‘1. The\nevacuees had waited 4 minutes for the bus, and their trip duration is 15 minutes, giving a total waiting + transportation\ntime of 19 minutes per evacuee. After dropping off the passengers at ğ‘‘1, the status of Bus 1 becomes ğ‘ ğ‘1 = {20, 0, ğ‘œ2},\nas it now heads to the next origin ğ‘œ2 with no passengers onboard. Subsequently, Bus 1 takes 10 minutes traveling to\nğ‘œ2, then 10 minutes transporting 15 passengers to the shelter ğ‘‘1. These 15 evacuees waited a total of 29 minutes (19\nminutes while Bus 1 was serving ğ‘œ1, plus an additional 10 minutes for the trip to ğ‘œ2). Bus 1 then spends 10 minutes\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 7 of 17\nTable 4\nFeasible solutions for the six-node network\nBus\nTrips\nTrip Time\nWaiting Time\nPassengers\nFeasible Solution 1, Total passenger time = 19 Ã— 10 + 39 Ã— 15 + 33 Ã— 15 = 1, 270\nBus 1\n(ğ‘1, ğ‘œ1, ğ‘‘1)\n15\n4\n10\nBus 1\n(ğ‘‘1, ğ‘œ2, ğ‘‘1)\n10\n29\n15\nBus 2\n(ğ‘2, ğ‘›2, ğ‘œ2, ğ‘‘2)\n20\n13\n15\nFeasible Solution 2, Total passenger time = 19 Ã— 10 + 49 Ã— 15 + 23 Ã— 15 = 1, 270\nBus 1\n(ğ‘1, ğ‘œ1, ğ‘‘1)\n15\n4\n10\nBus 1\n(ğ‘‘1, ğ‘œ2, ğ‘‘2)\n20\n29\n15\nBus 2\n(ğ‘2, ğ‘›2, ğ‘œ2, ğ‘‘1)\n10\n13\n15\ntransporting these evacuees to ğ‘‘1, after which its next destination continues to ğ‘‘1, which indicates this bus completes\nits service and is no longer dispatched to evacuate additional passengers.\nSimultaneously, Bus 2 departs from its initial location and travels through ğ‘›2 towards the origin node ğ‘œ2, since Bus\n2 is located in the directed link (ğ‘œ2, ğ‘›2). Then Bus 2 evacuates 15 evacuees to shelter ğ‘‘2. On this trip, the 15 evacuees\nwait 13 minutes before boarding, and Bus 2 takes 20 minutes to shelter ğ‘‘2. Therefore, the total passenger time of\nfeasible solution 1 is calculated by 19 Ã— 10 + 39 Ã— 15 + 33 Ã— 15 = 1, 270 minutes. If the penalty for inequity is ğ½1, the\ntotal reward of RL would be 1, 270 + ğ½1.\nAs shown in feasible solution 2 of Table 4 and Figure 3 (b), Bus 1 first departs from its initial location to the origin\nnode ğ‘œ1, then evacuates 10 passengers to shelter ğ‘‘1, contributing (15 + 4) Ã— 10 = 190 minutes of passenger time.\nConcurrently, Bus 2 departs from its initial location to origin node ğ‘œ2 and evacuates 15 passengers to shelter ğ‘‘1, adding\n(20 + 29) Ã— 15 = 735 minutes. After completing its first trip, Bus 1 proceeds to ğ‘œ2 and transports the remaining 15\nevacuees to shelter ğ‘‘2, accruing another (10 + 13) Ã— 15 = 345 minutes. Thus, the total passenger time of this feasible\nsolution is the same as in feasible solution 1, i.e., 1,270 minutes. The total reward for the RL agent is 1,270 + penalty\nğ½2, where ğ½2 accounts for the equity penalty.\nWithout accounting for equity, both solutions might seem equally optimal. However, when equity penalties ğ½1 and\nğ½2 are considered, the prioritization of which community is evacuated first, or how resources are allocated, becomes\ncrucial. In many real-world disaster scenarios, such as those in urban settings with diverse populations, vulnerable\ncommunities often require more immediate assistance. These are typically populations with limited mobility, lower\nsocioeconomic status, or higher exposure to risk. In such cases, a strategy that serves these communities faster, even\nat the cost of slightly longer travel times for others, may be seen as more equitable. In this small-scale demonstration,\nthe limited sample size and simplified network configuration prevent a meaningful calculation of the point-biserial\ncoefficient and penalty ğ½. In the San Francisco Bay Area network scenario discussed in the following sections, the\ndiversity and size of the data allow for a more robust and statistically significant equity analysis.\n3.3. Optimal solution\nIn this section, we introduce the use of the Equity-RL framework to simulate the six-node network and derive the\noptimal solution.\nThe controller defines the policy for bus routing and evacuation decisions using the reinforcement learning\napproach, particularly the PPO algorithm.\n1. Once the bus is full, it will head to the nearest node with available capacity.\n2. Whenever the bus is not full, it will go to the nearest node with demand.\n3. The nearest node with demand is found using Dijkstraâ€™s algorithm.\n4. If there is no demand, but there are passengers on board, the bus will proceed to the nearest node with capacity.\nAt each timestep, the PPO agent observes the current state and selects an action that specifies the next destination\nfor each bus. The action space allows the agent to reroute buses to any node in the network. The PPO agent uses the\ncurrent state to predict the next optimal actions, considering both efficiency and equity. Once an action is taken, the\ncontroller updates the state of the buses and the network. Each bus moves towards its selected destination, and the\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 8 of 17\npassengers are updated accordingly. When a bus arrives at its destination, evacuees either get on (if the bus is picking\nup passengers) or get off (if the bus is dropping them at a shelter). After this, the busâ€™s next destination is determined\nbased on the current demand and capacity in the network, and the bus continues its route. The simulation continues\nuntil all evacuees have been evacuated or the maximum number of steps has been reached. The cumulative reward is\nthen calculated, reflecting both the efficiency and equity of the evacuation.\nThe reward is calculated based on a combination of total passenger time and inequity penalty. Here, for this\nillustrative network, we assume the penalty is the total passengersâ€™ waiting time in inequitable communities. That\nis: ğ‘…= âˆ’(total passenger time) âˆ’(total waiting time for passengers in ğ‘œ1). The objective is to maximize the reward\nvalue. As shown in Figure 4 (b), the final output of the simulation includes bus real-time statues. Based on that, we\ncan obtain the bus physical routing (refer to Figure 4 (a)). For this illustrative case, the optimal reward is -1,345.\n(a) Buses routing in Equity-RL framework\n(b) Space-time trajectory for buses\nFigure 4: Optimal solution for six-node network\n4. Extended Simulation\nBuilding on the insights from the simplified six-node network example, this section extends our model to a\nmore complex real-world scenario. We apply our proposed evacuation strategies to a large-scale urban transportation\nnetwork, San Francisco Bay Area, which allows us to test the effectiveness and scalability of the proposed equity-\nemphasized RL framework under more realistic and challenging conditions.\n4.1. Data description\nThe success of the proposed approach relies heavily on accurate and comprehensive data. This section introduces\nthe data required for the proposed system and its sources.\n4.1.1. Network data\nThe transportation network is abstracted from various GIS-based data sources. In this study, the network is\nrepresented in GMNS format, and network information is provided by GTFS and OSM. The GTFS data provides real-\ntime locations of buses and their schedules, while OSM data is utilized to extract the transportation network structure,\nincluding roads and intersections. Figure 5 shows a visualization of the OSM-derived transportation network for the\nSan Francisco Bay Area. The network consists of 416,677 links and 228,160 nodes, covering arterials, collectors, and\nlocal roads.\n4.1.2. Social data\nSocio-demographic data is essential to generate traffic demand and identify EPCs. This study utilizes the\nU.S. Census 2018 dataU.S. Census Bureau (2018), which provides detailed socio-demographic information. The\ngeographical division for the analysis is based on U.S. Census tracts, as shown in Figure 6. The EPC data, determined\nby the Metropolitan Transportation Commission (MTC), is used to identify equity priority communities.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 9 of 17\nFigure 5: Visualization of the San Francisco Bay Area transportation network from OpenStreetMap (2024) .\nFigure 6: U.S. Census Bureau (2018) division with equity priority communities highlighted.\n4.1.3. Natural hazards data\nTo create realistic simulation scenarios, natural hazard data are required. The data curated by the Association of\nBay Area Governments (ABAG) includes information on past wildfires, landslides, floods, and earthquakes. This data\nis used to simulate the impact of natural disasters on the transportation network. Table 5 summarizes the types of\nhazards and their corresponding data sources.\n4.1.4. Real-time bus data\nThe real-time bus data includes bus real-time location, which is extracted from GTFS data of twenty-two bus\nagencies (the list of bus agencies refer to the website https://511.org/transit/agencies). Identifying bus geometries\nis based on bus schedule timings, stop geometry and the specific timestamp at which the bus location needs to be\ndetermined. If the bus coincides exactly with the physical location of a stop at the specified time (hazard time), then\nthe geometry of the physical stop will be the bus geometry. If the bus is on the way from one stop to another stop, the\nbus location is determined by interpolating between known geographic locations of bus stops. Figure 7 represents the\nbus location at 10 AM on Monday.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 10 of 17\nTable 5\nCurated Data for Bay Area Hazards (from Association of Bay Area Governments)\nHazard Type\nData Source\nWildfire (FIRE)\nFire and Resource Assessment Program (FRAP)\nLandslide (Wentworth et al., 1997)\nUS Geological Survey (USGS)\nFlood (Agency)\nFederal Emergency Management Agency (FEMA)\nEarthquake (Survey)\nCalifornia Geological Survey (CGS)\nFigure 7: Spatial distribution of bus at 10 AM on Monday\n4.2. Scenario generation\nThis section details the steps involved in creating realistic simulation scenarios by disabling links in affected zones,\nestimating evacuee populations, and initializing buses.\n1. Determine Impairment Scale: The impairment scale refers to the extent of damage caused by a natural hazard.\nHistorical hazard data is analyzed to extract the number of zones affected by past disasters. This data includes\ninformation on the frequency, intensity, and geographical spread of hazards such as wildfires, floods, landslides,\nand earthquakes. The impairment scale ğ¼is quantified as the number of zones impacted by a particular hazard\nevent. This step ensures that the generated scenarios are grounded in empirical evidence and reflect realistic\ndisaster conditions.\n2. Select Impaired Zones: Once the impairment scale ğ¼is determined, the next step is to select the specific zones\nthat will be impaired in the simulation. Two types of scenarios are considered:\nâ€¢ Hazard Reproduce Scenarios: In these scenarios, impaired zones are directly mapped from historical hazard\ndatasets. This involves identifying the geographical areas affected by previous disasters and replicating\nthose conditions in the simulation.\nâ€¢ Randomized Scenarios: In these scenarios, zones are randomly selected based on the impairment scale ğ¼.\nThis approach simulates the spatial distribution of damage in a more stochastic manner, allowing for the\nassessment of evacuation strategies under varying conditions. The random selection process is guided by\na probability distribution that reflects the likelihood of different zones being affected.\n3. Evacuee Estimation: In the selected impaired zones, all affiliated nodes (such as residential areas, schools and\nhospitals) are marked as origin nodes for evacuees. The total population ğ‘ƒğ‘–in each impaired zone ğ‘–is obtained\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 11 of 17\nfrom demographic data sources, such as census data. The population is then distributed equally among the\naffiliated nodes ğ‘ğ‘–, resulting in the number of evacuees ğ¸ğ‘–ğ‘—at each node ğ‘—in zone ğ‘–:\nğ¸ğ‘–ğ‘—= ğ‘ƒğ‘–\nğ‘ğ‘–\n(14)\nThis distribution assumes a uniform spread of evacuees across nodes, which can be adjusted based on more\ndetailed population density data if available.\n4. Bus Initialization: Buses are initialized based on real-time data from the GTFS data. The GTFS provides detailed\ninformation on the location, capacity, and schedule of buses. The initialization process involves the following\nsteps:\nâ€¢ Location Mapping: The initial locations of buses are mapped according to their positions at the time of day\nwhen the hazard event starts. This involves assigning each bus to a specific node or link in the transportation\nnetwork.\nâ€¢ Capacity Setting: Each bus is assigned a capacity ğ¶ğ‘, representing the maximum number of evacuees it\ncan transport. The initial number of passengers on board ğ‘ƒğ‘is also set, which may vary depending on the\nbusâ€™s current route and occupancy.\nâ€¢ Route Initialization: The initial routes of buses are established based on their schedules and the current\nstate of the transportation network. This includes accounting for any disruptions caused by the hazard\nevent, such as disabled links or road closures.\nThis detailed initialization ensures that the simulation starts from a realistic state, reflecting the actual conditions\nof the transportation network and the bus fleet.\nBy following these steps, the scenario generation process creates varied conditions under which the proposed\nevacuation strategies can be tested. This approach allows for the assessment of both the efficiency and equity of\nthe strategies in different disaster scenarios, providing insights into their robustness and applicability in real-world\nsituations.\n4.3. Benchmarks\nTo evaluate the performance of the proposed RL-based strategy, we compare it with the following control strategies:\nâ€¢ Stochastic Strategy 1 (ğœ‹1): Randomly assigns buses to destinations from all impaired or shelter nodes.\nâ€¢ Stochastic Strategy 2 (ğœ‹2): Randomly assigns buses to destinations only from the impaired zones with waiting\nevacuees and shelters with available capacity.\nâ€¢ Rule-based Strategy 1 ( Ì„ğœ‹1): Prioritizes bus assignments based on the shortest travel time to impaired zones and\nshelters.\nâ€¢ Rule Strategy 2 ( Ì„ğœ‹2): Prioritizes bus assignments based on the number of evacuees at the impaired nodes.\nâ€¢ Efficiency-emphasized RL Strategy: The RL strategy with all the same settings without equity penalty in the\nreward function.\nThe performance of these strategies is evaluated based on the reward function, focusing on both efficiency and\nequity.\n5. Results\nThis section presents a comprehensive analysis of the simulation results obtained from the implementation of\nthe proposed Equity-Emphasized Reinforcement Learning (Equity-RL) strategy for bus evacuation planning. The\nperformance of this strategy is evaluated against several benchmarks, including an Efficiency-Emphasized RL strategy,\ntwo stochastic strategies, and two rule-based strategies. The key metrics used for this comparison are the total\nevacuation time, the overall equity index, as measured by the point-biserial correlation coefficient (|ğ‘Ÿğ‘ğ‘|), and equity\nindices specific to hazard types such as wildfires, landslides, floods, and earthquakes. Table 6 summarizes the results\nof these strategies.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 12 of 17\nTable 6\nComparison of Evacuation Strategies\nStrategy\nTotal\nEvac-\nuation Time\n(103min)\nOverall\n|ğ‘Ÿğ‘ğ‘|\nWildfire\n|ğ‘Ÿğ‘ğ‘|\nLandsilde\n|ğ‘Ÿğ‘ğ‘|\nFlood\n|ğ‘Ÿğ‘ğ‘|\nEarthquake\n|ğ‘Ÿğ‘ğ‘|\nRandom\n|ğ‘Ÿğ‘ğ‘|\nEquity-RL Strategy\n1395\n0.102\n0.089\n0.063\n0.118\n0.109\n0.097\nEfficiency-RL Strategy\n1281\n0.189\n0.170\n0.178\n0.144\n0.262\n0.209\nRandom Strategy 1 (ğœ‹1)\n6437\n0.156\n0.165\n0.108\n0.196\n0.131\n0.110\nRandom Strategy 2 (ğœ‹2)\n2908\n0.172\n0.104\n0.181\n0.143\n0.195\n0.169\nRule-based Strategy 1 ( Ì„ğœ‹1)\n1496\n0.191\n0.223\n0.207\n0.164\n0.196\n0.153\nRule-based Strategy 2 ( Ì„ğœ‹2)\n1712\n0.169\n0.154\n0.189\n0.176\n0.127\n0.184\n5.1. Overall evacuation time analysis\nThe total evacuation time provides a direct measure of how efficiently each strategy manages the evacuation\nprocess. As shown in Table 6, the Equity-RL strategy achieves a total evacuation time of 1,395,000 minutes. This\nrepresents a balance between minimizing the evacuation duration and maintaining an equitable service distribution\nacross affected areas. In comparison, the Efficiency-RL strategy, which prioritizes evacuation speed without explicit\nequity considerations, achieves a shorter total evacuation time of 1,281,000 minutes. This result demonstrates the trade-\noff between efficiency and equity, where faster evacuation times can come at the expense of fair service distribution.\nStochastic Strategy 1 (ğœ‹1) recorded the longest evacuation time at 6,437,000 minutes, followed by Stochastic\nStrategy 2 (ğœ‹2) at 2,908,000 minutes. These results indicate that random bus assignments lead to significant\ninefficiencies, likely due to suboptimal routing and scheduling decisions. The rule-based strategies performed better\nthan the stochastic ones, with Rule-based Strategy 1 ( Ì„ğœ‹1) achieving an evacuation time of 1,496,000 minutes and\nRule-based Strategy 2 ( Ì„ğœ‹2) at 1,712,000 minutes. While these strategies offer improvements over random assignments,\nthey are still outperformed by both RL-based approaches in terms of total evacuation time.\n5.2. Equity index analysis\nThe overall equity index, as measured by the point-biserial correlation coefficient (|ğ‘Ÿğ‘ğ‘|), provides an important\nmetric for assessing how equitably the evacuation resources are distributed across different communities, especially\nthose identified as vulnerable. The Equity-RL strategy achieved the lowest overall equity index of 0.102, indicating\nthe most equitable resource distribution among all strategies. This performance suggests that the RL agent was able to\neffectively prioritize EPC during the evacuation process.\nIn contrast, the Efficiency-RL strategy recorded an overall equity index of 0.189, which reflects the trade-off made\nfor faster evacuation times. This higher inequity index suggests that the Efficiency-RL strategy tended to favor more\neasily accessible areas over vulnerable communities, resulting in less equitable resource distribution.\nThe stochastic strategies also demonstrated higher inequity indices, with Strategy 1 (ğœ‹1) achieving an equity index\nof 0.156 and Strategy 2 (ğœ‹2) recording 0.172. These values indicate that random bus assignments fail to account for the\nspecific needs of vulnerable populations, leading to less equitable outcomes. The rule-based strategies showed even\nhigher inequity, with Rule-based Strategy 1 ( Ì„ğœ‹1) and Rule-based Strategy 2 ( Ì„ğœ‹2) recording indices of 0.191 and 0.169,\nrespectively.\n5.3. Hazard-specific equity analysis\nTo further understand the performance of the proposed strategies across different disaster scenarios, hazard-specific\nequity indices were calculated for wildfires, landslides, floods, and earthquakes. The Equity-RL strategy consistently\nachieved the lowest inequity indices across all hazard types, highlighting its robustness in prioritizing vulnerable\ncommunities regardless of the specific nature of the disaster.\nFor instance, in wildfire scenarios, the Equity-RL strategy recorded an equity index of 0.089, which is significantly\nlower than the 0.170 observed with the Efficiency-RL strategy. This indicates that, under wildfire conditions, the Equity-\nRL strategy was more effective in ensuring that equity priority communities received adequate attention. Similarly, in\nlandslide scenarios, the Equity-RL strategy achieved an equity index of 0.063, compared to 0.178 for the Efficiency-RL\nstrategy, demonstrating its superior performance in addressing equity under landslide-related evacuations.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 13 of 17\nIn flood scenarios, the Equity-RL strategy recorded an equity index of 0.118, again outperforming the Efficiency-\nRL strategy, which recorded 0.144. Lastly, for earthquake scenarios, the Equity-RL strategyâ€™s equity index was 0.109,\nwhile the Efficiency-RL strategy recorded a much higher index of 0.262. These results underscore the ability of the\nEquity-RL strategy to adapt to various disaster types and ensure that vulnerable populations are not neglected in the\nevacuation process.\n5.4. Evacuation time distribution analysis\nTo provide further insight into the distribution of evacuation times, we generated histograms of individual evacuee\ntravel times and waiting times for both the Equity-RL and Efficiency-RL strategies. These distributions are illustrated\nin Figures 8 and 9, which allow for a direct comparison of the variability in travel and waiting times across the two\nstrategies.\nFigure 8: Distribution of evacuee travel times for Equity-RL and Efficiency-RL strategies.\nFigure 9: Distribution of evacuee waiting times for Equity-RL and Efficiency-RL strategies.\nFigure 8 shows the distribution of travel times for evacuees under both strategies. The travel times for both the\nEquity-RL and Efficiency-RL strategies are centered around a similar range, with the peak occurring between 25 and\n30 minutes.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 14 of 17\nâ€¢ Equity-RL Strategy: The travel time distribution for the Equity-RL strategy, represented by the blue curve, is\nmore concentrated around this peak. This indicates that a larger proportion of evacuees experienced travel times\nwithin this specific range, suggesting a more uniform distribution of travel times across evacuees.\nâ€¢ Efficiency-RL Strategy: The Efficiency-RL strategy, shown by the orange curve, exhibits a wider spread in travel\ntimes, particularly with a longer tail extending beyond 40 minutes and up to approximately 80 minutes. This\nsuggests that while many evacuees had travel times comparable to the Equity-RL strategy, a small percentage of\nevacuees experienced significantly longer travel times.\nThe key difference between the two strategies lies in the consistency of travel times. The Equity-RL strategy\nmaintains a tighter distribution, minimizing the number of evacuees experiencing travel times beyond 50 minutes.\nIn contrast, the Efficiency-RL strategy allows for greater variability, with some evacuees experiencing travel times as\nhigh as 80 minutes.\nFigure 9 presents the distribution of waiting times for both strategies.\nâ€¢ Equity-RL Strategy: The Equity-RL strategy again demonstrates a more concentrated distribution of waiting\ntimes, with the peak occurring between 20 and 30 minutes. The distribution of waiting times shows that a\nsignificant portion of evacuees waited between 10 and 40 minutes, with a small number of evacuees experiencing\nlonger waiting times beyond 50 minutes.\nâ€¢ Efficiency-RL Strategy: The Efficiency-RL strategy, on the other hand, displays a broader distribution with a\nlower peak. A notable difference is the longer tail, with many evacuees experiencing waiting times exceeding 50\nminutes and some reaching up to 100 minutes. This suggests that while the strategy minimizes total evacuation\ntime, certain evacuees, particularly those in equity priority communities, are subjected to longer waiting times.\nThe Equity-RL strategy leads to fewer extreme cases of long waiting times, contributing to a more equitable\ndistribution of service. The Efficiency-RL strategy has a larger variance in waiting times, with more evacuees\nexperiencing extended delays in bus arrival and service.\nThe histograms demonstrate the trade-offs between the two strategies in terms of equity and efficiency:\nâ€¢ The Equity-RL strategy exhibits more uniform and concentrated distributions for both travel and waiting times.\nThis strategy ensures that evacuees have a more consistent evacuation experience, reducing the number of\nevacuees who experience particularly long travel or waiting times. As a result, the Equity-RL strategy better\naddresses the equity concerns, ensuring that vulnerable communities are not disproportionately affected by long\nwaits or extended travel times.\nâ€¢ The Efficiency-RL strategy, while minimizing the total evacuation time, introduces greater variability in both\nwaiting and travel times. This variability can result in some evacuees, particularly from equity priority areas,\nexperiencing significantly longer evacuation times. The long tail observed in both distributions suggests that\ncertain evacuees endure considerably longer delays.\nOverall, the Equity-RL strategy prioritizes equitable service delivery across all evacuees, leading to a more balanced\nevacuation process. In contrast, the Efficiency-RL strategy, while faster overall, results in less consistent outcomes,\npotentially exacerbating inequalities in service access during emergencies.\n6. Conclusion\nThis study introduced and evaluated an Equity-RL framework for bus evacuation planning. The results demonstrate\nthat this framework offers a viable solution for balancing efficiency and equity in bus evacuation planning, achieving\nreasonable evacuation times while maintaining a low inequity index across various disaster scenarios. While efficiency-\nfocused and traditional frameworks achieve shorter evacuation times, they do so at the cost of equitable service\ndistribution, particularly for vulnerable communities. The comparison with the traditional Efficiency-RL framework\nfurther demonstrates the superior performance of the proposed Equity-RL framework which contributes meaningful\ninsights into the optimization of evacuation processes. This study underscores the importance of integrating advanced\ncomputational techniques with social equity principles to develop more effective and fair emergency management\npractices. Future research should focus on extending these models to larger and more complex scenarios, incorporating\ndynamic real-time data, and exploring the integration of multiple modes of transportation to optimize evacuation\nstrategies for diverse urban environments further.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 15 of 17\nDeclaration of generative AI and AI-assisted technologies in the writing process\nDuring the preparation of this work ChatGPT was used to refine the language and clarity of text written by non-native\nspeakers. After using this tool/service, the authors reviewed and edited the content as needed and take full responsibility\nfor the content of the publication.\nReferences\nAbdelgawad, H., Abdulhai, B., Wahba, M., 2010. Multiobjective optimization for multimodal evacuation. Transportation Research Record 2196,\n21â€“33.\nAgency, F.E.M., . FEMA Flood Maps. URL: https://www.fema.gov/flood-maps. (2021, Oct 10).\nAltay, N., Green III, W.G., 2006. Or/ms research in disaster operations management. European journal of operational research 175, 475â€“493.\nfrom Association of Bay Area Governments, . Curated Data for Bay Area Hazards. URL: https://abag.ca.gov/our-work/resilience/\ndata-research. (2021, Oct 10).\nBish, D.R., 2011. Planning for a bus-based evacuation. OR spectrum 33, 629â€“654.\nChen, C.C., Chou, C.S., 2009. Modeling and performance assessment of a transit-based evacuation plan within a contraflow simulation environment.\nTransportation Research Record 2091, 40â€“50.\nChen, X., Zhan, F.B., 2008. Agent-based modelling and simulation of urban evacuation: relative effectiveness of simultaneous and staged evacuation\nstrategies. Journal of the Operational Research Society 59, 25â€“33.\nCova, T.J., Johnson, J.P., 2003. A network flow model for lane-based evacuation routing. Transportation research part A: Policy and Practice 37,\n579â€“604.\nFIRE, C., . The Fire and Resource Assessment Program (FRAP) - Fire Perimeters. URL: https://frap.fire.ca.gov/frap-projects/\nfire-perimeters/. (2021, Oct 10).\nGeneral Transit Feed Specification (GTFS), 2024. General transit feed specification (gtfs) data. URL: https://transitfeeds.com/. accessed:\n2024-11-01.\nGoerigk, M., GrÃ¼n, B., 2014. A robust bus evacuation model with delayed scenario information. Or Spectrum 36, 923â€“948.\nGoerigk, M., GrÃ¼n, B., HeÃŸler, P., 2013. Branch and bound algorithms for the bus evacuation problem. Computers & Operations Research 40,\n3010â€“3020.\nHamacher, H., Tjandra, S., 2001. Mathematical Modelling of Evacuation Problems: A State of Art. Technical Report 24. Fraunhofer (ITWM).\nURL: https://nbn-resolving.de/urn:nbn:de:hbz:386-kluedo-12873.\nHuang, S.K., Lindell, M.K., Prater, C.S., 2016. Who leaves and who stays? a review and statistical meta-analysis of hurricane evacuation studies.\nEnvironment and Behavior 48, 991â€“1029.\nKaiser, E.I., Hess, L., Palomo, A.B.P., 2012. An emergency evacuation planning model for special needs populations using public transit systems.\nJournal of Public Transportation 15, 45â€“69.\nKhalili, S.M., Mojtahedi, M., Steinmetz-Weiss, C., Sanderson, D., 2024. A systematic literature review on transit-based evacuation planning in\nemergency logistics management: Optimisation and modelling approaches. Buildings 14, 176.\nLitman, T., 2006. Lessons from katrina and rita: What major disasters can teach transportation planners. Journal of transportation engineering 132,\n11â€“18.\nLiu, Y., Lai, X., Chang, G.L., 2006. Two-level integrated optimization system for planning of emergency evacuation. Journal of transportation\nEngineering 132, 800â€“807.\nLu, Q., George, B., Shekhar, S., 2005. Capacity constrained routing algorithms for evacuation planning: A summary of results, in: International\nsymposium on spatial and temporal databases, Springer. pp. 291â€“307.\nMetropolitan\nTransportation\nCommission,\n2021.\nMtc\nplan\nbay\narea\n2050\nequity\npriority\ncommunities.\nURL:\nhttps:\n//github.com/BayAreaMetro/Spatial-Analysis-Mapping-Projects/tree/master/Project-Documentation/\nEquity-Priority-Communities.\nOpenStreetMap, 2024. Openstreetmap: Geospatial data for mapping. URL: https://www.openstreetmap.org/#map=10/33.6049/-112.\n1248. accessed: 2024-11-01.\nOpenStreetMap (OSM), 2024. Openstreetmap: Geospatial data for mapping. URL: https://www.openstreetmap.org/#map=10/33.6049/\n-112.1248. accessed: 2024-11-01.\nRenne, J.L., Sanchez, T.W., Litman, T., 2011. Carless and special needs evacuation planning: A literature review. Journal of Planning Literature\n26, 420â€“431.\nSayyady, F., Eksioglu, S.D., 2010. Optimizing the use of public transit system during no-notice evacuation of urban areas. Computers & Industrial\nEngineering 59, 488â€“495.\nSurvey, C.G., . Hazards Program, 2018. URL: https://www.conservation.ca.gov/cgs/shp. (2021, Oct 10).\nU.S. Census Bureau, 2018. 2018 american community survey 1-year estimates. URL: https://data.census.gov/cedsci/table?q=2018%\n20ACS%201-Year%20Estimates. accessed: 2024-11-01.\nWang, H., Delle Monache, M.L., 2022. Urban network resilience analysis and equity emphasized recovery based on reinforcement learning, in:\n2022 European Control Conference (ECC), IEEE. pp. 01â€“06.\nWentworth, C.M., Graham, S.E., Pike, R.J., Beukelman, G.S., Ramsey, D.W., Barron, A.D., 1997. Summary distribution of slides and earth flows\nin the San Francisco Bay Region, California. Technical Report. US Dept. of the Interior, US Geological Survey,.\nWu, H.C., Lindell, M.K., Prater, C.S., 2012. Logistics of hurricane evacuation in hurricanes katrina and rita. Transportation research part F: traffic\npsychology and behaviour 15, 445â€“461.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 16 of 17\nYusoff, M., Ariffin, J., Mohamed, A., 2008.\nOptimization approaches for macroscopic emergency evacuation planning: a survey, in: 2008\nInternational symposium on information technology, IEEE. pp. 1â€“7.\nTang, Wang, and Delle Monache: Preprint submitted to Elsevier\nPage 17 of 17\n",
  "categories": [
    "cs.LG",
    "cs.AI",
    "cs.CY",
    "cs.SY",
    "eess.SY",
    "68T05, 90B06",
    "I.2.6; I.2.8"
  ],
  "published": "2024-12-08",
  "updated": "2024-12-08"
}